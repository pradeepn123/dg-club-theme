{{ 'customer.css' | asset_url | stylesheet_tag }}
{{ 'main-account.css' | asset_url | stylesheet_tag }}
{% style %}
	.tab_title{
		display: flex;
		justify-content: space-between;
		align-items: center;
	}
	.tab_title a{
		font-size: 16px;
		font-weight: 500;
		color: #fff;
		display: flex;
		align-items: center;
		gap: 6px;
	}
	.myaccount--link{
		display: none;
	}
	@media (max-width: 1023px){
		.myaccount--link{
			display: inline-flex;
		}
		.myaccount--link svg{
			height: 24px;
		}
		.tab_title{
			flex-direction: row-reverse;
			justify-content: flex-end;
			gap: 17px;
		}
		.tab_title a span{
			display: none;
		}
		.dashboard_tabs_content .tab_title{
			padding: 22px 21px 18px;
			font-size: 16px;
		}
	}
	@media (min-width: 1024px) and (max-width: 1199px){
		.dashboard{
			min-width: 15rem !important;
		}
	}
{% endstyle %}
<div class="section-spacing-bottom row flex-container account">
	<div class="columns">
		<div class="dashboard_wrapper">
			<div class="dashboard">
				<ul class="dashboard_list">
					<li class="dashboard_tabs order_history active" data-tab="order_details">
						<a href="javascript:void(0)">
							<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
								<path d="M9 8C9 9.65685 10.3431 11 12 11C13.6569 11 15 9.65685 15 8M3 16.8002V7.2002C3 6.08009 3 5.51962 3.21799 5.0918C3.40973 4.71547 3.71547 4.40973 4.0918 4.21799C4.51962 4 5.08009 4 6.2002 4H17.8002C18.9203 4 19.4796 4 19.9074 4.21799C20.2837 4.40973 20.5905 4.71547 20.7822 5.0918C21 5.5192 21 6.07899 21 7.19691V16.8036C21 17.9215 21 18.4805 20.7822 18.9079C20.5905 19.2842 20.2837 19.5905 19.9074 19.7822C19.48 20 18.921 20 17.8031 20H6.19691C5.07899 20 4.5192 20 4.0918 19.7822C3.71547 19.5905 3.40973 19.2842 3.21799 18.9079C3 18.4801 3 17.9203 3 16.8002Z" stroke="#4444E1" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
							</svg>
							Order History
						</a>
					</li>
					<li class="dashboard_tabs addresses " data-tab="address_details">
						<a href="/account/addresses">
							<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
								<path d="M4 11.4522V16.8002C4 17.9203 4 18.4807 4.21799 18.9086C4.40973 19.2849 4.71547 19.5906 5.0918 19.7823C5.5192 20.0001 6.07899 20.0001 7.19691 20.0001H16.8031C17.921 20.0001 18.48 20.0001 18.9074 19.7823C19.2837 19.5906 19.5905 19.2849 19.7822 18.9086C20 18.4811 20 17.9216 20 16.8037V11.4522C20 10.9179 19.9995 10.6506 19.9346 10.4019C19.877 10.1816 19.7825 9.97307 19.6546 9.78464C19.5102 9.57201 19.3096 9.39569 18.9074 9.04383L14.1074 4.84383C13.3608 4.19054 12.9875 3.86406 12.5674 3.73982C12.1972 3.63035 11.8026 3.63035 11.4324 3.73982C11.0126 3.86397 10.6398 4.19014 9.89436 4.84244L5.09277 9.04383C4.69064 9.39569 4.49004 9.57201 4.3457 9.78464C4.21779 9.97307 4.12255 10.1816 4.06497 10.4019C4 10.6506 4 10.9179 4 11.4522Z" stroke="#4444E1" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
							</svg>
							Addresses
						</a>
					</li>
					{% if customer.tags contains 'creator' %}
						<li class="dashboard_tabs artist_dashboard " data-tab="artist_details">
							<a href="javascript:void(0)">
								<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
									<path d="M19 21C19 17.134 15.866 14 12 14C8.13401 14 5 17.134 5 21M12 11C9.79086 11 8 9.20914 8 7C8 4.79086 9.79086 3 12 3C14.2091 3 16 4.79086 16 7C16 9.20914 14.2091 11 12 11Z" stroke="#4444E1" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
								</svg>
								Artist Dashboard
							</a>
						</li>
					{% endif %}
					<li class="dashboard_tabs logout">
						<a href="{{ routes.account_logout_url }}">
							<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
								<path d="M12 15L15 12M15 12L12 9M15 12H4M4 7.24802V7.2002C4 6.08009 4 5.51962 4.21799 5.0918C4.40973 4.71547 4.71547 4.40973 5.0918 4.21799C5.51962 4 6.08009 4 7.2002 4H16.8002C17.9203 4 18.4796 4 18.9074 4.21799C19.2837 4.40973 19.5905 4.71547 19.7822 5.0918C20 5.5192 20 6.07899 20 7.19691V16.8036C20 17.9215 20 18.4805 19.7822 18.9079C19.5905 19.2842 19.2837 19.5905 18.9074 19.7822C18.48 20 17.921 20 16.8031 20H7.19691C6.07899 20 5.5192 20 5.0918 19.7822C4.71547 19.5905 4.40973 19.2839 4.21799 18.9076C4 18.4798 4 17.9201 4 16.8V16.75" stroke="#4444E1" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
							</svg>
							Logout
						</a>
					</li>
				</ul>
			</div>
			<div class="dashboard_content">
				<div class="dashboard_tabs_content order_details showTab">
						<div class="tab_title">
							Order #{{ order.order_number }}
							<a href="{{ routes.account_url }}">
								<svg xmlns="http://www.w3.org/2000/svg" width="17" height="16" viewBox="0 0 17 16" fill="none">
									<path d="M0.292893 7.29289C-0.0976314 7.68342 -0.0976315 8.31658 0.292892 8.70711L6.65685 15.0711C7.04738 15.4616 7.68054 15.4616 8.07107 15.0711C8.46159 14.6805 8.46159 14.0474 8.07107 13.6569L2.41421 8L8.07107 2.34315C8.46159 1.95262 8.46159 1.31946 8.07107 0.928931C7.68054 0.538407 7.04738 0.538407 6.65686 0.928931L0.292893 7.29289ZM17 7L1 7L1 9L17 9L17 7Z" fill="white"/>
								</svg>
								<span>Back to Order History</span>
							</a>
						</div>
					<div class="order_details_container">
						<div class="myaccount-content">
						  {%- assign order_date = order.created_at | time_tag: format: "date" -%}
						  <p>{{ 'customer.order.date_html' | t: date: order_date }}</p>
						  {%- if order.cancelled -%}
							{%- assign cancelled_at = order.cancelled_at | time_tag: format: "date" -%}
							<p>{{ 'customer.order.cancelled_html' | t: date: cancelled_at }}</p>
							<p>{{ 'customer.order.cancelled_reason' | t: reason: order.cancel_reason_label }}</p>
						  {%- endif -%}
				  
						  <table role="table" class="order-details no-borders">
							<thead role="rowgroup">
							  <tr role="row">
								<th id="ColumnProduct" scope="col" role="columnheader">{{ 'customer.order.product' | t }}</th>
								<th id="ColumnSku" scope="col" role="columnheader">{{ 'customer.order.sku' | t }}</th>
								<th id="ColumnPrice" scope="col" role="columnheader">{{ 'customer.order.price' | t }}</th>
								<th id="ColumnQuantity" scope="col" role="columnheader">{{ 'customer.order.quantity' | t }}</th>
								<th id="ColumnTotal" scope="col" role="columnheader">{{ 'customer.order.total' | t }}</th>
							  </tr>
							</thead>
							<tbody role="rowgroup">
							  {%- for line_item in order.line_items -%}
								<tr role="row">
								  <td
									id="Row{{ line_item.key }}"
									headers="ColumnProduct"
									role="rowheader"
									scope="row"
									data-label="{{ 'customer.order.product' | t }}"
								  >
									<div>
									  {%- if line_item.url != blank -%}
										<a href="{{ line_item.url }}">{{ line_item.title }}</a>
									  {%- else -%}
										<p>{{ line_item.title }}</p>
									  {%- endif -%}
									  {%- assign property_size = line_item.properties | size -%}
									  {%- unless line_item.selling_plan_allocation == nil and property_size == 0 -%}
										<div class="properties">
										  {%- unless line_item.product.has_only_default_variant -%}
											<span>
											  {{ line_item.variant.title }}
											</span>
										  {%- endunless -%}
										  {%- unless line_item.selling_plan_allocation == nil -%}
											<span>
											  {{ line_item.selling_plan_allocation.selling_plan.name }}
											</span>
										  {%- endunless -%}
										  {%- if property_size != 0 -%}
											{%- for property in line_item.properties -%}
											  {% assign property_first_char = property.first | slice: 0 %}
											  {%- if property.last != blank and property_first_char != '_' -%}
												<span>
												  {{ property.first }}:&nbsp;
												  {%- if property.last contains '/uploads/' -%}
													<a href="{{ property.last }}">{{ property.last | split: '/' | last }}</a>
												  {%- else -%}
													{{ property.last }}
												  {%- endif -%}
												</span>
											  {%- endif -%}
											{%- endfor -%}
										  {%- endif -%}
										</div>
									  {%- endunless -%}
				  
									  {%- if line_item.line_level_discount_allocations != blank -%}
														  <ul class="discounts" role="list" aria-label="{{ 'customer.order.discount' | t }}">
															  {%- for discount_allocation in line_item.line_level_discount_allocations -%}
																  <li class="discounts__discount">
																	  {%- render 'svg-icons' with 'discount' -%}
																	  {{- discount_allocation.discount_application.title }} (-{{ discount_allocation.amount | money -}})
																  </li>
															  {%- endfor -%}
														  </ul>
									  {%- endif -%}
				  
									  {%- if line_item.fulfillment -%}
										<div class="fulfillment">
										  {%- assign created_at = line_item.fulfillment.created_at | time_tag: format: 'date' -%}
										  <span>{{ 'customer.order.fulfilled_at_html' | t: date: created_at }}</span>
				  
											{%- if line_item.fulfillment.tracking_url -%}
											  <a href="{{ line_item.fulfillment.tracking_url }}">
												{{ 'customer.order.track_shipment' | t }}
											  </a>
											{%- endif -%}
											<span>
											  {{ line_item.fulfillment.tracking_company }}
											  {%- if line_item.fulfillment.tracking_number -%} #{{ line_item.fulfillment.tracking_number }} {%- endif -%}
											</span>
										</div>
									  {%- endif -%}
									</div>
								  </td>
								  <td
									headers="Row{{ line_item.key }} ColumnSku"
									role="cell"
									data-label="{{ 'customer.order.sku' | t }}"
								  >
									{{ line_item.sku }}
								  </td>
								  <td
									headers="Row{{ line_item.key }} ColumnPrice"
									role="cell"
									data-label="{{ 'customer.order.price' | t }}"
								  >
									{%- if line_item.original_price != line_item.final_price or line_item.unit_price_measurement -%}
									  <dl>
										{%- if line_item.original_price != line_item.final_price -%}
										  <dt>
											<span class="visually-hidden">{{ 'products.product.price.regular_price' | t }}</span>
										  </dt>
										  <dd class="regular-price">
											<s>{{ line_item.original_price | money }}</s>
										  </dd>
										  <dt>
											<span class="visually-hidden">{{ 'products.product.price.sale_price' | t }}</span>
										  </dt>
										  <dd>
											<span>{{ line_item.final_price | money }}</span>
										  </dd>
										{%- else -%}
										  <dt>
											<span class="visually-hidden">{{ 'products.product.price.regular_price' | t }}</span>
										  </dt>
										  <dd>
											{{ line_item.original_price | money }}
										  </dd>
										{%- endif -%}
										{%- if line_item.unit_price_measurement -%}
										  <dt>
											<span class="visually-hidden">{{ 'products.product.price.unit_price' | t }}</span>
										  </dt>
										  <dd class="unit-price">
											<span>
											  {%- capture unit_price_separator -%}
												<span aria-hidden="true">/</span><span class="visually-hidden">{{ 'accessibility.unit_price_separator' | t }}&nbsp;</span>
											  {%- endcapture -%}
											  {%- capture unit_price_base_unit -%}
												{%- if line_item.unit_price_measurement.reference_value != 1 -%}
												  {{- line_item.unit_price_measurement.reference_value -}}
												{%- endif -%}
												{{ line_item.unit_price_measurement.reference_unit }}
											  {%- endcapture -%}
											  <span data-unit-price>{{ line_item.unit_price | money }}</span>{{- unit_price_separator -}}{{- unit_price_base_unit -}}
											</span>
										  </dd>
										{%- endif -%}
									  </dl>
									{%- else -%}
									  <span>{{ line_item.final_price | money }}</span>
									{%- endif -%}
								  </td>
								  <td
									headers="Row{{ line_item.key }} ColumnQuantity"
									role="cell"
									data-label="{{ 'customer.order.quantity' | t }}"
								  >
									{{ line_item.quantity }}
								  </td>
								  <td
									headers="Row{{ line_item.key }} ColumnTotal"
									role="cell"
									data-label="{{ 'customer.order.total' | t }}"
								  >
									{%- if line_item.original_line_price != line_item.final_line_price -%}
									  <dl>
										<dt>
										  <span class="visually-hidden">{{ 'products.product.price.regular_price' | t }}</span>
										</dt>
										<dd class="regular-price">
										  <s>{{ line_item.original_line_price | money }}</s>
										</dd>
										<dt>
										  <span class="visually-hidden">{{ 'products.product.price.sale_price' | t }}</span>
										</dt>
										<dd>
										  <span>{{ line_item.final_line_price | money }}</span>
										</dd>
									  </dl>
									{%- else -%}
									  {{ line_item.original_line_price | money }}
									{%- endif -%}
								  </td>
								</tr>
							  {%- endfor -%}
							</tbody>
							<tfoot role="rowgroup" style="vertical-align: bottom;">
							  <tr role="row" style="height: 100px;">
								<td id="RowSubtotal" role="rowheader" scope="row" colspan="4">
								  {{ 'customer.order.subtotal' | t }}
								</td>
								<td headers="RowSubtotal" role="cell" data-label="{{ 'customer.order.subtotal' | t }}">{{ order.line_items_subtotal_price | money }}</td>
							  </tr>
							  {%- if order.cart_level_discount_applications != blank -%}
								<tr role="row">
								  {%- for discount_application in order.cart_level_discount_applications -%}
									<td id="RowDiscount" role="rowheader" scope="row" colspan="4">
									  {{ 'customer.order.discount' | t }}
									  <span class="cart-discount">
										<svg aria-hidden="true" focusable="false" viewBox="0 0 12 12">
										  <use href="#icon-discount" />
										</svg>
										{{- discount_application.title -}}
									  </span>
									</td>
									<td headers="RowDiscount" role="cell" data-label="{{ 'customer.order.discount' | t }}">
									  <div>
										<span>-{{ discount_application.total_allocated_amount | money }}</span>
										<span class="cart-discount">
										  <svg aria-hidden="true" focusable="false" viewBox="0 0 12 12">
											<use href="#icon-discount" />
										  </svg>
										  {{- discount_application.title -}}
										</span>
									  </div>
									</td>
								  {%- endfor -%}
								</tr>
							  {%- endif -%}
							  {%- for shipping_method in order.shipping_methods -%}
								<tr role="row">
								  <td id="RowShipping" role="rowheader" scope="row" colspan="4">{{ 'customer.order.shipping' | t }} ({{ shipping_method.title }})</td>
								  <td headers="RowShipping" role="cell" data-label="{{ 'customer.order.shipping' | t }} ({{ shipping_method.title }})">{{ shipping_method.price | money }}</td>
								</tr>
							  {%- endfor -%}
							  {%- for tax_line in order.tax_lines -%}
								<tr role="row">
								  <td id="RowTax" role="rowheader" scope="row" colspan="4">{{ 'customer.order.tax' | t }} ({{ tax_line.title }} {{ tax_line.rate | times: 100 }}%)</td>
								  <td headers="RowTax" role="cell" data-label="{{ 'customer.order.tax' | t }} ({{ tax_line.title }} {{ tax_line.rate | times: 100 }}%)">{{ tax_line.price | money }}</td>
								</tr>
							  {%- endfor -%}
							  <tr role="row">
								<td id="RowTotal" role="rowheader" scope="row" colspan="3">{{ 'customer.order.total' | t }}</td>
								<td headers="RowTotal" role="cell" colspan="2" data-label="{{ 'customer.order.total' | t }}">{{ order.total_price | money_with_currency }}</td>
							  </tr>
							</tfoot>
						  </table>
						</div>
						<div class="myaccount-sidebar">
							  <div class="no-padding billing_shipping_address">
								  <div class="billing_address">
									  <div class="myaccount-sidebar--address">
									<h4>{{ 'customer.order.billing_address' | t }}</h4>
									<p class="payment_status">
									  <strong>{{ 'customer.order.payment_status' | t }}:</strong>
									  {{ order.financial_status_label }}
									</p>
										  <address>
										{{ order.billing_address | format_address }}
										  </address>
								  </div>
								  </div>
								  <div class="shipping_address">
								  <div class="myaccount-sidebar--address">
									<h4>{{ 'customer.order.shipping_address' | t }}</h4>
									<p class="payment_status">
									  <strong>{{ 'customer.order.fulfillment_status' | t }}:</strong>
									  {{ order.fulfillment_status_label }}
									</p>
										  <address>
										{{ order.shipping_address | format_address }}
										  </address>
								  </div>
								  </div>
							  </div>
						</div>
					  </div>
				</div>
				<div class="dashboard_tabs_content address_details">
					<p class="tab_title">addresses</p>
					<div class="customer-addresses loader-container" data-customer-addresses>
						<div class="file_loader"></div>
					</div>
				</div>
				{% render 'creator-information' %}
			</div>
		</div>
	</div>
</div>
